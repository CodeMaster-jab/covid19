# onetime [![Build Status](https://travis-ci.org/sindresorhus/onetime.svg?branch=master)](https://travis-ci.org/sindresorhus/onetime)

> Ensure a function is only called once

When called multiple times it will return the return value from the first call.

<<<<<<< HEAD
*Unlike the module [once](https://github.com/isaacs/once), this one isn't naughty and extending `Function.prototype`.*
=======
*Unlike the module [once](https://github.com/isaacs/once), this one isn't naughty extending `Function.prototype`.*
>>>>>>> 37d774246a886414ad3dcaef6f0d5ef6c08bf9d8


## Install

```
<<<<<<< HEAD
$ npm install onetime
=======
$ npm install --save onetime
>>>>>>> 37d774246a886414ad3dcaef6f0d5ef6c08bf9d8
```


## Usage

```js
<<<<<<< HEAD
const onetime = require('onetime');

let i = 0;

const foo = onetime(() => ++i);
=======
let i = 0;

const foo = onetime(() => i++);
>>>>>>> 37d774246a886414ad3dcaef6f0d5ef6c08bf9d8

foo(); //=> 0
foo(); //=> 0
foo(); //=> 0
<<<<<<< HEAD

onetime.callCount(foo); //=> 3
```

```js
const onetime = require('onetime');

=======
```

```js
>>>>>>> 37d774246a886414ad3dcaef6f0d5ef6c08bf9d8
const foo = onetime(() => {}, {throw: true});

foo();

foo();
//=> Error: Function `foo` can only be called once
```


## API

### onetime(fn, [options])

Returns a function that only calls `fn` once.

#### fn

Type: `Function`

Function that should only be called once.

#### options

Type: `Object`

##### throw

Type: `boolean`<br>
Default: `false`

Throw an error when called more than once.

<<<<<<< HEAD
### onetime.callCount(fn)

Returns a number representing how many times `fn` has been called.

Note: It throws an error if you pass in a function that is not wrapped by `onetime`.

```js
const foo = onetime(() => {});

foo();
foo();
foo();

console.log(onetime.callCount(foo));
//=> 3
```

#### fn

Type: `Function`

Function to get call count from.

=======
>>>>>>> 37d774246a886414ad3dcaef6f0d5ef6c08bf9d8

## License

MIT Â© [Sindre Sorhus](https://sindresorhus.com)
